{% macro suppliers_forms(addform, editform, deleteform) %}
<div class="modal fade" id="addSupplierModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Add Supplier</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <!-- Modal body -->
        <div class="modal-body">
            {% if addform %}
            <form id="add_supplier_form" method="post" action="{{url_for('routes.add_supplier')}}">
                {{addform.hidden_tag()}}                
                <div class="form-group">
                  {{addform.name.label}}
                  {{addform.name(class='form-control', placeholder='Enter Supplier Name', maxlength='80')}}
                </div>
                <div class="form-group">
                  {{addform.address.label}}
                  {{addform.address(class='form-control', placeholder='Enter Supplier Address', maxlength='125')}}
                </div>
                <div class="form-group">
                  {{addform.phone_add.label(class="d-block")}}
                  {{addform.phone_add(class='form-control', maxlength='45')}}
                </div>
                {{addform.add(class='btn btn-success btn-block')}}
            </form>
            {% else %}
            <div class="alert alert-danger">Unable to Display Add Supplier form right now.</div>
            {% endif %}
        </div>
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
</div>
<div class="modal fade" id="editSupplierModal">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Edit Supplier</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
            {% if editform %}
            <form id="edit_supplier_form" method="post" action="">
                {{editform.hidden_tag()}}
                <div class="form-group">
                  {{editform.name.label}}
                  {{editform.name(class='form-control', placeholder='Enter Supplier Name', maxlength='80')}}
                </div>
                <div class="form-group">
                  {{editform.address.label}}
                  {{editform.address(class='form-control', placeholder='Enter Supplier Address', maxlength='125')}}
                </div>
                <div class="form-group">
                  {{editform.phone_edit.label(class="d-block")}}
                  {{editform.phone_edit(class='form-control', maxlength='45')}}
                </div>                         
                {{editform.edit(class='btn btn-success')}}
            </form>
            {% else %}
            <div class="alert alert-danger">Unable to Display Edit Supplier form right now.</div>
            {% endif %}
        </div>
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
</div>

<div class="modal fade" id="deleteSupplierModal">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Remove Supplier</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
            {% if deleteform %}
            <form id="delete_supplier_form" method="post" action="">
                {{deleteform.hidden_tag()}}
                <p>Are you Sure you want remove supplier</p>
                {{deleteform.delete(class='btn btn-danger')}}
            </form>
            {% else %}
            <div class="alert alert-danger">Unable to Display Delete Supplier form right now.</div>
            {% endif %}
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
</div>
{% endmacro %}


{% macro listings_forms(delete_listings, import_offers, setup_bestbuy) %}
<div class="modal fade" id="removeListings">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove multiple catalogues</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>      
      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_listings and delete_listings.listings_ids and delete_listings.delete_listings %}
        <p><span>You are going to delete</span><strong><span class="badge badge-danger mx-1" id="listings_ids_total">0</span></strong><span>items</span></p>
        <form id="remove_listings" action="{{url_for('routes.delete_listings')}}" method="post">
            {{delete_listings.hidden_tag()}}
            <div id="items" class="d-flex justify-content-start align-items-center flex-wrap p-2"></div>
            {{delete_listings.delete_listings(class='btn btn-danger btn-sm mt-3 btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove Listings form right now.</div>
        {% endif %}
      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade" id="importOffersModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Import Offers</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if import_offers %}
        <form id="import_offers_form" method="post" action="{{url_for('main.api_offers_import')}}">
          {{import_offers.hidden_tag()}}
          <div class="form-group">
            {{import_offers.api_key.label}}
            {{import_offers.api_key(class='form-control')}}
            <div class="form-check" title="For privacy and security, we do not save your key in our system, it is saved locally in your web browser and the data will be deleted after you close the browser.">
              <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="" id="offers_key_saver" >Save the key temporarily
              </label>
            </div>
          </div>
          {{import_offers.import_data(class='btn btn-success')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Import Offers form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="SetupBestbuyFormModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Setup BestBuy API</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if setup_bestbuy %}
        <p><i class="fa fa-exclamation-triangle"></i> It's looks like you did not setup bestbuy API yet, or there are new update please click on Setup API Button.</p>
        <form id="setup_bestbuy_form" method="post" action="{{url_for('main.setup_bestbuy')}}">
          {{setup_bestbuy.hidden_tag()}}
          <div class="container" style="background:lavender;">
            <img src="{{url_for('static', filename='assets/images/opps.png')}}" style="width:100%;max-height:300px;object-fit: contain;" />
          </div>
          <div>
            {{setup_bestbuy.setup(class='btn btn-success btn-block')}}
          </div>
          {{setup_bestbuy.redirect(value='listings', style='display:none;')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Setup BestBuy form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{% endmacro %}

{% macro catalogues_forms(catalogues_excel, delete_catalogues, delete_all_catalogues, add_multiple_listings) %}
<div class="modal fade" id="importExcelCatalogues">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Import Catalogues From Excel</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if catalogues_excel and catalogues_excel.excel_file %}
        <p>Please Upload Excel File, contains valid column tiltes.</p>
        <form action="{{url_for('main.import_catalogues_excel')}}" method="post" enctype="multipart/form-data">
            {{catalogues_excel.hidden_tag()}}
            {{catalogues_excel.excel_file(class='form-control')}}
            {{catalogues_excel.submit(class='btn btn-success btn-sm mt-3 btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Upload Catalogues Excel Upload form right now.</div>
        {% endif %}
      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade" id="removeCatalogues">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove multiple catalogues</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>      
      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_catalogues and delete_catalogues.catalogues_ids %}
        <p><span>You are going to delete</span><strong><span class="badge badge-danger mx-1" id="catalogues_ids_total">0</span></strong><span>items</span></p>
        <form id="remove_catalogues" action="{{url_for('routes.delete_catalogues')}}" method="post">
            {{delete_catalogues.hidden_tag()}}
            <div id="items" class="d-flex justify-content-start align-items-center flex-wrap p-2" style="overflow:auto;"></div>
            {{delete_catalogues.delete_catalogues(class='btn btn-danger btn-sm mt-3 btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove Catalogues form right now.</div>
        {% endif %}
      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>


<div class="modal fade" id="removeAllCatalogues">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove All catalogues</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>      
      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_all_catalogues and delete_all_catalogues.delete_all %}
        <p>You are going to delete all catalogues in the system</p>
        <form id="remove_all_catalogues" action="{{url_for('routes.delete_all_catalogues')}}" method="post">
            {{delete_all_catalogues.hidden_tag()}}
            {{delete_all_catalogues.delete_all(class='btn btn-danger btn-sm mt-3 btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove All Catalogues form right now.</div>
        {% endif %}
      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>
<div class="modal fade" id="addMultipleListingModal">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add Multiple Listings</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body max-height-650">
        {% if add_multiple_listings and add_multiple_listings.add and add_multiple_listings.platforms_selects is defined and add_multiple_listings.catalogue_ids is defined %}        
        <p><span>You Have selected</span><strong><span class="badge badge-primary mx-1" id="selected_catalogues_total">0</span></strong><span>Catalogues</span></p>
        <form id="add_multiple_listing" action="{{url_for('routes.multiple_listing_add')}}" method="post">
              {{add_multiple_listings.hidden_tag()}}
              <h5 class="text-center mt-2 mb-4">Please select data for each listing</h5>

            {% if add_multiple_listings.platforms_selects|length == add_multiple_listings.catalogue_ids|length %}
              <!-- display listings data -->
              {% for platform_select in add_multiple_listings.catalogue_ids %}
              <div class="new_listing_containers mb-1 shadow-sm" id="container_{{loop.index}}" style="display:none;">
                  <h6 class="catalogue_label mini_green_header mb-2 mx-auto" style="display:none;"></h6>
                  {{add_multiple_listings.catalogue_ids[loop.index0](class='multiple_platform_ids', style='display:none;')}}
                  <div class="form-group">
                    {{add_multiple_listings.platforms_selects.label}}
                    {{add_multiple_listings.platforms_selects[loop.index0](class='multiple_platforms_selects form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    <div class="d-flex justify-content-start align-items-center">
                      {{add_multiple_listings.active.label(class="mr-1")}}
                      {{add_multiple_listings.active[loop.index0](class='multiple_active form-control mxwidth-100', style='display:none;')}} 
                    </div>
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.discount_end_date.label}}
                    {{add_multiple_listings.discount_end_date[loop.index0](class='multiple_discount_end form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.discount_start_date.label}}
                    {{add_multiple_listings.discount_start_date[loop.index0](class='multiple_discount_start form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.unit_discount_price.label}}
                    {{add_multiple_listings.unit_discount_price[loop.index0](class='multiple_unit_discount form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.unit_origin_price.label}}
                    {{add_multiple_listings.unit_origin_price[loop.index0](class='multiple_unit_origin form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.quantity_threshold.label}}
                    {{add_multiple_listings.quantity_threshold[loop.index0](class='multiple_quantity_threshold form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.currency_iso_code.label}}
                    {{add_multiple_listings.currency_iso_code[loop.index0](class='multiple_currency_iso form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.shop_sku.label}}
                    {{add_multiple_listings.shop_sku[loop.index0](class='multiple_shop_sku form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.offer_id.label}}
                    {{add_multiple_listings.offer_id[loop.index0](class='multiple_offer_id form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.reference.label}}
                    {{add_multiple_listings.reference[loop.index0](class='multiple_reference form-control', style='display:none;')}}
                  </div>
                  <div class="form-group">
                    {{add_multiple_listings.reference_type.label}}
                    {{add_multiple_listings.reference_type[loop.index0](class='multiple_reference_type form-control', style='display:none;')}}
                  </div>
                  <!-- add the remaning inputs -->
                  <hr />
              </div>
              {% endfor %}
              {{add_multiple_listings.add(class='btn btn-success btn-sm mt-3 btn-block')}}

            {% else %}
              <div class="alert alert-danger">Unable to Display Listings data inputs right now.</div>
            {% endif %}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Add Multiple Listings form right now.</div>
        {% endif %}
      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>


{% endmacro %}


{% macro catalogue_forms(deleteform, generate_barcode_form, generate_redirect) %}
<div class="modal fade" id="deleteCatalogueModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Dashboard</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
         {% if deleteform and deleteform.catalogue_id %}
         <form id="remove_catalogue" method="post" action="">
          {{deleteform.hidden_tag()}}
          <p>Are you Sure you want remove catalogue</p>
          {{deleteform.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Catalogue form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade" id="barcodeCatalogueModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Generate BarCode</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
         {% if generate_barcode_form %}
         <form id="generate_barcode_catalogue" method="post" action="{{generate_redirect}}">
          <p>Please select product's data to apear on the barcode, you can add as many as you need based on your type of barcode used</p>
          {{generate_barcode_form.hidden_tag()}}
          <div class="form-group">
            {{generate_barcode_form.label}}
            {{generate_barcode_form.columns(class='form-control')}}
          </div>
          <div class="form-group">
            {{generate_barcode_form.data.label}}
            {{generate_barcode_form.data(class='form-control', placeholder='You Can always edit this string as you like for example replace comma with underscore _ etc or add custom data, or write full custom string to that product without select columns', title='Please note that the maximum value for full text is 48, if the specified value is greater than 48 or the final result is greater than 48, the last value specified will be ignored.')}}
          </div>
          {{generate_barcode_form.generate(class='btn btn-primary')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Generate Barcode form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>


{% endmacro %}


{% macro listing_forms(deleteform, delete_purchase, delete_order) %}
<div class="modal fade" id="deleteListingModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Listing</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
         {% if deleteform and deleteform.listing_id %}
         <form id="remove_listing" method="post" action="">
          {{deleteform.hidden_tag()}}
          <p>Are you Sure you want remove listing</p>
          {{deleteform.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Listing form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade" id="deletePurchaseModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Purchase</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
         {% if delete_purchase and delete_purchase.purchase_id %}
         <form id="remove_purchase" method="post" action="">
          {{delete_purchase.hidden_tag()}}
          <p>Are you Sure you want remove purchase</p>
          {{delete_purchase.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Purchase form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade" id="deleteOrderModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Order</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
         {% if delete_order and delete_order.order_id %}
         <form id="remove_order" method="post" action="">
          {{delete_order.hidden_tag()}}
          <p>Are you Sure you want remove order</p>
          {{delete_order.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Order form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>


{% endmacro %}

{% macro order_forms(deleteform) %}
<div class="modal fade" id="deleteOrderModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Order</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
         {% if deleteform and deleteform.order_id %}
         <form id="remove_order" method="post" action="">
          {{deleteform.hidden_tag()}}
          <p>Are you Sure you want remove order</p>
          {{deleteform.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Order form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>
{% endmacro %}

{% macro purchase_forms(deleteform) %}
<div class="modal fade" id="deletePurchaseModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Purchase</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
         {% if deleteform and deleteform.purchase_id %}
         <form id="remove_purchase" method="post" action="">
          {{deleteform.hidden_tag()}}
          <p>Are you Sure you want remove purchase</p>
          {{deleteform.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Purchase form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>
{% endmacro %}

{% macro supplier_forms(deleteform, delete_purchase_form) %}
<div class="modal fade" id="deleteSupplierModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Supplier</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
         {% if deleteform and deleteform.supplier_id %}
         <form id="remove_supplier" method="post" action="">
          {{deleteform.hidden_tag()}}
          <p>Are you Sure you want remove supplier</p>
          {{deleteform.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Supplier form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade" id="deletePurchaseModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Delete Purchase</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
         {% if delete_purchase_form and delete_purchase_form.purchase_id %}
         <form id="remove_purchase" method="post" action="">
          {{delete_purchase_form.hidden_tag()}}
          <p>Are you Sure you want remove purchase</p>
          {{delete_purchase_form.delete(class='btn btn-danger')}}
         </form>
         {% else %}
         <div class="alert alert-danger">Unable to Display Remove Purchase form right now.</div>
         {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>
{% endmacro %}


{% macro orders_forms(remove_order, action_redirect, setup_bestbuy, import_orders) %}
<div class="modal fade" id="removeOrderModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove Order</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if remove_order and action_redirect %}
        <form id="remove_order_form" method="post" action="">
         {{remove_order.hidden_tag()}}
         <p>Are you Sure you want remove order</p>         
         {{remove_order.action_redirect(value=action_redirect, style='display:none !important;')}}
         {{remove_order.delete(class='btn btn-danger')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove order form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="SetupBestbuyFormModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Setup BestBuy API</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if setup_bestbuy %}
        <p><i class="fa fa-exclamation-triangle"></i> It's looks like you did not setup bestbuy API yet, or there are new update please click on Setup API Button.</p>
        <form id="setup_bestbuy_form" method="post" action="{{url_for('main.setup_bestbuy')}}">
          {{setup_bestbuy.hidden_tag()}}
          <div class="container" style="background:lavender;">
            <img src="{{url_for('static', filename='assets/images/opps.png')}}" style="width:100%;max-height:300px;object-fit: contain;" />
          </div>
          <div>
            {{setup_bestbuy.setup(class='btn btn-success btn-block')}}
          </div>
          {{setup_bestbuy.redirect(value='orders', style='display:none;')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Setup BestBuy form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="importOrdersModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Import Orders</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if import_orders %}
        <form id="import_orders_form" method="post" action="{{url_for('main.api_import_orders')}}">
          {{import_orders.hidden_tag()}}
          <div class="form-group mb-2">
            {{import_orders.api_key.label}}
            {{import_orders.api_key(class='form-control')}}
            <div class="form-check" title="For privacy and security, we do not save your key in our system, it is saved locally in your web browser and the data will be deleted after you close the browser.">
              <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="" id="orders_key_saver" >Save the key temporarily
              </label>
            </div>
          </div>
          <div class="form-group">
            {{import_orders.date_from.label}}
            {{import_orders.date_from(class='form-control')}}
          </div>
          <div class="form-group">
            {{import_orders.order_ids.label}}
            {{import_orders.order_ids(class='form-control')}}
            <p>Note that if you specify order_ids the date entry will be ignored.</p>
          </div>
          {{import_orders.import_data(class='btn btn-success')}}
        </form>
        {% else %}
        
        <div class="alert alert-danger">Unable to Display Import Orders form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endmacro %}



{% macro reports_forms(export_form, action_url) %}
<div class="modal fade" id="filterModal">
  <div class="modal-dialog modal-lg">
    <div id="export_modal_content" class="modal-content" style="background: #3c5268e8 !important;">
      <!-- #869be8 !important #8196e2 !important;  #9dcd9ff7 !important #85c596 !important #f5b8ee !important -->
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"><span class="badge badge-secondary shadow p-2">Export <strong id="filter_table_name"></strong></span></h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        <div id="filter_loading_circle">
          <img src="{{url_for('static', filename='assets/images/loading_circle.gif')}}" alt="loading-circle" border="0" class="loading_circle" style="width:100%;">
        </div>        
        <div class="content_container" >
        
          <div id="ajax_flashes"></div>
          <div id="filter_content">
          {% if export_form and action_url %}
          <form id="filter_form" method="post" action="{{action_url}}">
           {{export_form.hidden_tag()}}
           <div class="form-group d-flex justify-content-between align-items-center">
            {{export_form.condition.label(class='text-light')}}
            {{export_form.condition(class='form-control ml-2 w-25')}}
            <button type="button" class="btn btn-light ml-auto" onclick="addFilterRow()">Add Condition</button>
           </div>
           <div class="form-group p-2" id="filter_form_cont"></div>
           {{export_form.export(class='btn-block mr-auto btn btn-primary mx-auto')}}           
          </form>
          {% else %}
          
          <div class="alert alert-danger">Unable to Display Remove order form right now.</div>
          {% endif %}
          
          </div>
        </div>
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
</div>
{% endmacro %}

{% macro setup_forms(add_platform, edit_platform, delete_platform, add_location, edit_location, delete_location, add_bin, edit_bin, delete_bin, add_category, edit_category, delete_category, add_condition, edit_condition, remove_condition, import_categories, setup_bestbuy) %}
<div class="modal fade" id="addPlatformModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add Platform</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if add_platform %}
        <form id="add_platform_form" method="post" action="{{url_for('routes.add_platform')}}">
            {{add_platform.hidden_tag()}}                
            <div class="form-group">
              {{add_platform.name_add.label}}
              {{add_platform.name_add(class='form-control', placeholder='Enter Platform Name', maxlength='100')}}
            </div>
            {{add_platform.add(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Add Platform form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editPlatformModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit Platform</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if edit_platform %}
        <form id="edit_platform_form" method="post" action="">
            {{edit_platform.hidden_tag()}}                
            <div class="form-group">
              {{edit_platform.name_edit.label}}
              {{edit_platform.name_edit(class='form-control', placeholder='Edit Platform Name', maxlength='100')}}
            </div>
            {{edit_platform.edit(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Edit Platform form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="deletePlatformModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove Platform</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_platform %}
        <form id="remove_platform_form" method="post" action="">
         <p>Are you Sure you want remove Platform</p>
         {{delete_platform.hidden_tag()}}
         {{delete_platform.delete(class='btn btn-danger')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove Platform form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="addLocationModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add Location</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if add_location %}
        <form id="add_location_form" method="post" action="{{url_for('routes.add_location')}}">
            {{add_location.hidden_tag()}}                
            <div class="form-group">
              {{add_location.location_name_add.label}}
              {{add_location.location_name_add(class='form-control', placeholder='Enter Location Name', maxlength='255')}}
            </div>
            {{add_location.add(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Add Location form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editLocationModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit Location</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if edit_location %}
        <form id="edit_location_form" method="post" action="">
            {{edit_location.hidden_tag()}}                
            <div class="form-group">
              {{edit_location.location_name_edit.label}}
              {{edit_location.location_name_edit(class='form-control', placeholder='Edit Location Name', maxlength='255')}}
            </div>
            {{edit_location.edit(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Edit Location form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="deleteLocationModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove Location</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_location %}
        <form id="remove_location_form" method="post" action="">
         <p>Are you Sure you want remove Location</p>
         {{delete_location.hidden_tag()}}
         {{delete_location.delete(class='btn btn-danger')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove Location form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="addBinModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add Bin</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if add_bin %}
        <form id="add_bin_form" method="post" action="">
            {{add_bin.hidden_tag()}}                
            <div class="form-group">
              {{add_bin.bin_name_add.label}}
              {{add_bin.bin_name_add(class='form-control', placeholder='Enter Bin Name', maxlength='255')}}
            </div>
            {{add_bin.add(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Add Bin form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editBinModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit Bin</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
        {% if edit_bin %}
        <form id="edit_bin_form" method="post" action="">
            {{edit_bin.hidden_tag()}}                
            <div class="form-group">
              {{edit_bin.bin_name_edit.label}}
              {{edit_bin.bin_name_edit(class='form-control', placeholder='Edit Bin Name', maxlength='255')}}
            </div>
            {{edit_bin.edit(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Edit Bin form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="deleteBinModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove Bin</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_bin %}
        <form id="remove_bin_form" method="post" action="">
         <p>Are you Sure you want remove Bin</p>
         {{delete_bin.hidden_tag()}}
         {{delete_bin.delete(class='btn btn-danger')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove Bin form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="addCategoryModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add Category</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if add_category %}
        <form id="add_category_form" method="post" action="{{url_for('routes.add_category')}}">
            {{add_category.hidden_tag()}}                
            <div class="form-group">
              {{add_category.code.label}}
              {{add_category.code(class='form-control', placeholder='Enter Category Code', maxlength='45')}}
            </div>
            <div class="form-group">
              {{add_category.label.label}}
              {{add_category.label(class='form-control', placeholder='Enter Label', maxlength='255')}}
            </div>
            <div class="form-group">
              {{add_category.level.label}}
              {{add_category.level(class='form-control', placeholder='Enter Level', title='optional')}}
            </div>
            <div class="form-group">
              {{add_category.parent_code.label}}
              {{add_category.parent_code(class='form-control', placeholder='Enter Parent Code', maxlength='45', title='optional')}}
            </div>
            {{add_category.add(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Add Category form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editCategoryModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit Category</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>      
      <!-- Modal body -->
      <div class="modal-body">
        {% if edit_category %}
        <form id="edit_category_form" method="post" action="">
            {{edit_category.hidden_tag()}}                
            <div class="form-group">
              {{edit_category.code_edit.label}}
              {{edit_category.code_edit(class='form-control', placeholder='Enter Category Code', maxlength='45')}}
            </div>
            <div class="form-group">
              {{edit_category.label_edit.label}}
              {{edit_category.label_edit(class='form-control', placeholder='Enter Label', maxlength='255')}}
            </div>
            <div class="form-group">
              {{edit_category.level_edit.label}}
              {{edit_category.level_edit(class='form-control', placeholder='Enter Level', title='optional')}}
            </div>
            <div class="form-group">
              {{edit_category.parent_code_edit.label}}
              {{edit_category.parent_code_edit(class='form-control', placeholder='Enter Parent Code', maxlength='45', title='optional')}}
            </div>
            {{edit_category.edit(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Edit Category form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="deleteCategoryModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove Category</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_category %}
        <form id="remove_category_form" method="post" action="">
         <p>Are you Sure you want remove Category</p>
         {{delete_category.hidden_tag()}}
         {{delete_category.delete(class='btn btn-danger')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove Category form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- conditions -->
<div class="modal fade" id="addConditionModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add Condition</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if add_condition %}
        <form id="add_condition_form" method="post" action="{{url_for('routes.add_condition')}}">
            {{add_condition.hidden_tag()}}                
            <div class="form-group">
              {{add_condition.name_add.label}}
              {{add_condition.name_add(class='form-control', placeholder='Enter Condition', maxlength='255')}}
            </div>
            {{add_condition.add(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Add Condition form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editConditionModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit Condition</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>      
      <!-- Modal body -->
      <div class="modal-body">
        {% if edit_condition %}
        <form id="edit_condition_form" method="post" action="">
            {{edit_condition.hidden_tag()}}                
            <div class="form-group">
              {{edit_condition.name_edit.label}}
              {{edit_condition.name_edit(class='form-control', placeholder='Enter Condition', maxlength='255')}}
            </div>
            {{edit_condition.edit(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Edit Condition form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="deleteConditionModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove Condition</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if remove_condition %}
        <form id="remove_condition_form" method="post" action="">
         <p>Are you Sure you want remove Category</p>
         {{remove_condition.hidden_tag()}}
         {{remove_condition.delete(class='btn btn-danger')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Remove Condition form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="importCategoriesModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Import Categories</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if import_categories %}
        <form id="import_categories_form" method="post" action="{{url_for('main.api_import_categories')}}">
          {{import_categories.hidden_tag()}}
          <div class="form-group">
            {{import_categories.api_key.label}}
            {{import_categories.api_key(class='form-control')}}
            <!-- best buy 1 key temp saver -->
            <div class="form-check" title="For privacy and security, we do not save your key in our system, it is saved locally in your web browser and the data will be deleted after you close the browser.">
              <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="" id="cat_key_saver" >Save the key temporarily
              </label>
            </div>
          </div>
          {{import_categories.import_data(class='btn btn-success')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Import Categories form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="SetupBestbuyFormModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Setup BestBuy API</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if setup_bestbuy %}
        <p><i class="fa fa-exclamation-triangle"></i> It's looks like you did not setup bestbuy API yet, or there are new update please click on Setup API Button.</p>
        <form id="setup_bestbuy_form" method="post" action="{{url_for('main.setup_bestbuy')}}">
          {{setup_bestbuy.hidden_tag()}}
          <div class="container" style="background:lavender;">
            <img src="{{url_for('static', filename='assets/images/opps.png')}}" style="width:100%;max-height:300px;object-fit: contain;" />
          </div>
          <div>
            {{setup_bestbuy.setup(class='btn btn-success btn-block')}}
          </div>
          {{setup_bestbuy.redirect(value='setup', style='display:none;')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Setup BestBuy form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endmacro %}

{% macro profile_forms(add_key, delete_key, update_key, white_list, black_list) %}
<div class="modal fade" id="AddKeyFormModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add New API Key</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if add_key %}
        <form id="add_key_form" method="post" action="{{url_for('main.add_key')}}">
          {{add_key.csrf_token(id='csrf_token_addkey')}}
          <div class="form-group">
            {{add_key.key_limit.label(text='Key limit per day')}}
            {{add_key.key_limit(class='form-control', placeholder='enter Limit of this key', title='enter Limit of this key')}}
          </div>
          <div class="form-group">
            {{add_key.expiration_date.label}}
            {{add_key.expiration_date(class='form-control', placeholder='enter Expiration date of this key, or leave default 6 months', title='key will not be valid after expiration date, so it more secure to set small period of time')}}
            <p class="ml-1">Please note Max is 6 months, time in UTC</p>
          </div>
          {{add_key.add(class='btn btn-success btn-block')}}
        </form>
        {% else %}
        <div class="alert alert-danger">Unable to Display Add key form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="RemoveKeyFormModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Remove Key</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if delete_key and delete_key is defined %}
        <p>Are you sure want delete that key ?</p>
        <form id="remove_key_form" method="post" action="">
          {{delete_key.csrf_token(id='csrf_token_removekey')}}
          {{delete_key.remove_key_id()}}
          {{delete_key.remove_key(class='btn btn-danger btn-block')}}
        </form>
        {% else %}
          <div class="alert alert-danger">Unable to Display Add key form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="UpdateKeyFormModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Update Key</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        {% if update_key and update_key is defined %}
        <form id="update_key_form" method="post" action="">
          {{update_key.csrf_token(id='csrf_token_updatekey')}}
          {{update_key.update_key_id()}}
          <div class="form-group">
            {{update_key.update_key_limit.label(text='Key limit per day')}}
            {{update_key.update_key_limit(class='form-control')}}
          </div>
          <div class="form-group">
            {{update_key.expiration_date.label}}
            {{update_key.expiration_date(class='form-control', placeholder='enter Expiration date of this key, or leave default 6 months', title='key will not be valid after expiration date, so it more secure to set small period of time')}}
            <p class="ml-1">Please note Max is 6 months, time in UTC.</p>
          </div>
          {{update_key.update_key(class='btn btn-success btn-block')}}
        </form>
        {% else %}
          <div class="alert alert-danger">Unable to Display Update key form right now.</div>
        {% endif %}
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="AdvancedFormModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Advanced</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <div class="w-100 m-0 p-2 row bg_cornflowerblue mb-3">
          <button class="switch_components_links col-sm-6 bg-light p-1 text-dark text-center btn rounded active_component" id="white_list_btn" data-target="#add_white_component"><span>White List</span></button>
          <button class="switch_components_links col-sm-6 bg-dark p-1 text-center text-white btn rounded" id="black_list_btn" data-target="#add_black_component"><span>Black List</span></button>
        </div>
        <div class="switch_components active_component" id="add_white_component">
          {% if white_list and white_list.white_ips is defined and white_list.add_ips is defined %}
          <form id="add_white_form" method="post" action="{{url_for('main.add_key')}}">
            {{white_list.csrf_token(id='csrf_token_addwhite')}}
            <div class="form-group p-2 bg-success text-white">
              {{white_list.white_ips.label(class='badge badge-light')}}
              {{white_list.white_ips(class='form-control', title='only requests from this IPS will be allowed for that API key, if server can not get IP address becuase requester is behined proxy or vpn the request also will be ignored, so if you use proxy provide the IP address of it and make sure it not hidden ip or leave this field blank to disable white list')}}
            </div>
            {{white_list.add_ips(class='btn btn-success btn-block')}}
          </form>
          <div id="white_list_ips" class="w-100 p-2"></div>
          {% else %}
          <div class="alert alert-danger">Unable to Display Add White List form right now.</div>
          {% endif %}
        </div>
        <div class="switch_components" id="add_black_component" style="display:none;">
            {% if black_list and black_list.black_ips is defined and black_list.add_ips is defined %}
            <form id="add_black_form" method="post" action="{{url_for('main.add_key')}}">
              {{black_list.csrf_token(id='csrf_token_addblack')}}
              <div class="form-group bg-dark text-white p-2">
                {{black_list.black_ips.label(class='badge badge-danger')}}
                {{black_list.black_ips(class='form-control', title='Add black List IP, note it overide the white list also, so if IP listed in white list and in black list, it will prevented from send request')}}
              </div>
              {{black_list.add_ips(class='btn btn-dark btn-block')}}
            </form>
            {% else %}
            <div class="alert alert-danger">Unable to Display Add Black List form right now.</div>
            {% endif %}
        </div>
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endmacro %}